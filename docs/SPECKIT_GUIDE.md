# GitHub SpecKit - Руководство по разработке новой фичи

## Обзор

GitHub SpecKit - это система для структурированной разработки функций через спецификации. Процесс состоит из нескольких этапов, каждый из которых создает артефакты для следующего.

## Быстрый старт

### 1. Создание спецификации (Specify)

Используйте команду `/speckit.specify` в Cursor с описанием вашей фичи:

```
/speckit.specify Добавить систему аутентификации пользователей через JWT токены
```

**Что происходит:**
- Автоматически создается новая ветка git (например, `002-user-authentication`)
- Создается директория `specs/002-user-authentication/`
- Создается файл `spec.md` с шаблоном спецификации
- Спецификация заполняется на основе вашего описания

**Команда автоматически:**
- Определяет номер следующей фичи (проверяет существующие ветки и директории)
- Генерирует короткое имя для ветки из описания
- Создает и переключается на новую ветку
- Заполняет шаблон спецификации

### 2. Планирование реализации (Plan)

После создания спецификации, используйте команду `/speckit.plan`:

```
/speckit.plan
```

**Что происходит:**
- Создается `plan.md` с техническим планом реализации
- Генерируется `research.md` с исследованием технологий (если нужно)
- Создаются `data-model.md`, `contracts/`, `quickstart.md` (если применимо)

### 3. Создание задач (Tasks)

После планирования, используйте команду `/speckit.tasks`:

```
/speckit.tasks
```

**Что происходит:**
- Создается `tasks.md` с детальным списком задач
- Задачи упорядочены по зависимостям
- Определены параллельные задачи для оптимизации разработки

### 4. Анализ консистентности (Analyze)

Перед началом реализации, проверьте консистентность артефактов:

```
/speckit.analyze
```

**Что происходит:**
- Проверяется согласованность между `spec.md`, `plan.md` и `tasks.md`
- Выявляются несоответствия и недоработки
- Предлагается план исправлений (только для ознакомления, изменения не вносятся)

### 5. Реализация (Implement)

Когда все готово, начинайте реализацию:

```
/speckit.implement
```

**Что происходит:**
- Выполняются задачи из `tasks.md` в правильном порядке
- Код генерируется на основе плана и спецификации
- Применяются все правила проекта и архитектурные принципы

## Структура директории фичи

После создания спецификации, структура выглядит так:

```
specs/002-user-authentication/
├── spec.md              # Спецификация (что и зачем)
├── plan.md              # Технический план (как)
├── tasks.md             # Детальные задачи
├── research.md          # Исследование технологий (если нужно)
├── data-model.md        # Модель данных (если нужно)
├── contracts/           # API контракты (если нужно)
│   └── README.md
├── quickstart.md        # Сценарии быстрого старта (если нужно)
└── checklists/          # Чек-листы качества
    └── requirements.md
```

## Примеры использования

### Пример 1: Простая фича

```bash
# 1. Создать спецификацию
/speckit.specify Добавить кнопку экспорта данных в CSV формат

# 2. Создать план
/speckit.plan

# 3. Создать задачи
/speckit.tasks

# 4. Начать реализацию
/speckit.implement
```

### Пример 2: Сложная фича с исследованием

```bash
# 1. Создать спецификацию
/speckit.specify Реализовать WebSocket подключение для реального времени обновлений цен криптовалют

# 2. Создать план (автоматически создаст research.md)
/speckit.plan

# 3. Создать задачи
/speckit.tasks

# 4. Проверить консистентность
/speckit.analyze

# 5. Начать реализацию
/speckit.implement
```

## Требования к описанию фичи

При использовании `/speckit.specify`, описание должно быть:
- **Понятным**: Четкое описание того, что нужно сделать
- **Сфокусированным**: Одна основная функция за раз
- **Бизнес-ориентированным**: Описывайте "что" и "зачем", а не "как"

**Хорошие примеры:**
- ✅ "Добавить систему аутентификации пользователей"
- ✅ "Реализовать экспорт данных в CSV формат"
- ✅ "Создать дашборд для мониторинга торговых операций"

**Плохие примеры:**
- ❌ "Сделать API на Node.js с Express" (слишком технично)
- ❌ "Все сразу: аутентификация, дашборд и экспорт" (слишком много)

## Важные замечания

1. **Работайте в отдельных ветках**: Каждая фича создается в своей ветке автоматически
2. **Следуйте процессу**: Спецификация → План → Задачи → Реализация
3. **Используйте уточнения**: Если есть неясности, используйте `/speckit.clarify`
4. **Проверяйте качество**: Используйте `/speckit.analyze` перед реализацией

## Дополнительные команды

### Clarify (Уточнение)
```
/speckit.clarify
```
Используется для уточнения неясных моментов в спецификации.

### Checklist (Чек-лист)
```
/speckit.checklist
```
Создает чек-листы для проверки качества спецификации, плана или задач.

### Tasks to Issues (Задачи в Issues)
```
/speckit.taskstoissues
```
Преобразует задачи из `tasks.md` в GitHub Issues (если репозиторий на GitHub).

## Текущие фичи в проекте

- `001-websocket-gateway` - WebSocket Gateway сервис

## Полезные ссылки

- Шаблон спецификации: `.specify/templates/spec-template.md`
- Шаблон плана: `.specify/templates/plan-template.md`
- Конституция проекта: `.specify/memory/constitution.md`

## Решение проблем

### Ветка уже существует
SpecKit автоматически находит следующий доступный номер. Если нужно использовать конкретный номер:
```bash
.specify/scripts/bash/create-new-feature.sh --number 5 --short-name "my-feature" "Описание фичи"
```

### Нужно исправить спецификацию
Просто отредактируйте файл `specs/XXX-feature-name/spec.md` вручную, затем запустите `/speckit.plan` снова.

### Хотите начать заново
Удалите директорию фичи и ветку:
```bash
git checkout main
git branch -D XXX-feature-name
rm -rf specs/XXX-feature-name
```

