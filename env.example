# =============================================================================
# Bybit API Configuration
# =============================================================================
# Bybit API credentials for WebSocket authentication
# Use testnet for development, mainnet for production
BYBIT_API_KEY=XXXX
BYBIT_API_SECRET=XXXX
BYBIT_ENVIRONMENT=testnet  # or 'mainnet' for production

# =============================================================================
# Database Configuration (PostgreSQL)
# =============================================================================
# Shared PostgreSQL database for all microservices
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=XXXX
POSTGRES_USER=XXXX
POSTGRES_PASSWORD=XXXX

# =============================================================================
# RabbitMQ Configuration
# =============================================================================
# Message broker for event-driven communication
RABBITMQ_HOST=rabbitmq
RABBITMQ_PORT=5672
RABBITMQ_USER=XXXX
RABBITMQ_PASSWORD=XXXX

# =============================================================================
# WebSocket Gateway Service Configuration
# =============================================================================
# REST API port (non-standard port starting from 4400)
WS_GATEWAY_PORT=4400

# WebSocket Gateway hostname (for model-service to subscribe to channels)
WS_GATEWAY_HOST=ws-gateway

# API key for REST API authentication
# Other microservices use this key to manage subscriptions
WS_GATEWAY_API_KEY=XXXX

# Logging level: DEBUG, INFO, WARNING, ERROR, CRITICAL
WS_GATEWAY_LOG_LEVEL=INFO

# Service identifier
WS_GATEWAY_SERVICE_NAME=ws-gateway

# WebSocket connection strategy: 'dual' (separate public/private connections) or 'single' (one private connection for all)
# Default: 'dual' - recommended for better scalability and separation of concerns
# 'single' mode uses only private endpoint for backward compatibility
BYBIT_WS_STRATEGY=dual  # or 'single'

# Bybit public WebSocket category: 'spot', 'linear', 'inverse', 'option', 'spread'
# Default: 'linear' for unified trading (USDT/USDC perpetual & futures)
# Use 'spot' for spot trading, 'linear' for unified trading
BYBIT_WS_PUBLIC_CATEGORY=linear  # or 'spot', 'inverse', 'option', 'spread'

# =============================================================================
# Model Service Configuration
# =============================================================================
# REST API port (non-standard port starting from 4500)
MODEL_SERVICE_PORT=4500

# API key for REST API authentication
# Other microservices use this key to authenticate with Model Service
MODEL_SERVICE_API_KEY=XXXX

# Logging level: DEBUG, INFO, WARNING, ERROR, CRITICAL
MODEL_SERVICE_LOG_LEVEL=INFO

# Service identifier
MODEL_SERVICE_SERVICE_NAME=model-service

# =============================================================================
# Model Storage Configuration
# =============================================================================
# Directory for model files (mounted as Docker volume)
MODEL_STORAGE_PATH=/models

# =============================================================================
# Model Training Configuration
# =============================================================================
# Minimum number of records required to start model training
MODEL_TRAINING_MIN_DATASET_SIZE=1000

# Maximum duration for model training in seconds (30 minutes default)
MODEL_TRAINING_MAX_DURATION_SECONDS=1800

# Minimum accuracy threshold for model activation (0.0 to 1.0)
MODEL_QUALITY_THRESHOLD_ACCURACY=0.75

# Scheduled retraining schedule (cron format, optional)
# Example: "0 2 * * *" for daily at 2 AM
MODEL_RETRAINING_SCHEDULE=

# =============================================================================
# Signal Generation Configuration
# =============================================================================
# Rate limit for signal generation (signals per minute)
SIGNAL_GENERATION_RATE_LIMIT=60

# Burst allowance for rate limiting (additional signals allowed in burst)
SIGNAL_GENERATION_BURST_ALLOWANCE=10

# Enable warm-up mode when no trained model exists
WARMUP_MODE_ENABLED=true

# Warm-up signal generation frequency (signals per minute)
WARMUP_SIGNAL_FREQUENCY=60

# Minimum order amount for warm-up signals (in quote currency)
WARMUP_MIN_AMOUNT=100.0

# Maximum order amount for warm-up signals (in quote currency)
WARMUP_MAX_AMOUNT=1000.0

# Randomness level for warm-up signals (0.0 = deterministic, 1.0 = fully random)
WARMUP_RANDOMNESS_LEVEL=0.5

# =============================================================================
# Trading Strategy Configuration
# =============================================================================
# Comma-separated list of trading strategy identifiers
# Example: momentum_v1,mean_reversion_v1
TRADING_STRATEGIES=
